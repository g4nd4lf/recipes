<VirtualHost *:443>
    ServerName   recipes.co.uk
    ServerAlias  dev.recipes.co.uk

    DocumentRoot /app/web

    ErrorLog /data/logs/error_log
    CustomLog /data/logs/access_log combined

    Options +FollowSymLinks
    RewriteEngine on
    HostnameLookups Off
    UseCanonicalName Off
    ServerSignature Off

    <Directory "/app/web">
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    RewriteEngine on

    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-f
    RewriteCond %{REQUEST_URI} !^/php7-fcgi/
    RewriteRule ^/(.+) /app_dev.php [L]

    SSLEngine on
    SSLCertificateFile    /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
</VirtualHost>

<VirtualHost *:443>
    ServerName   admin.recipes.co.uk
    ServerAlias  admin.dev.recipes.co.uk

    DocumentRoot /app/web

    ErrorLog /data/logs/admin_error_log
    CustomLog /data/logs/admin_access_log combined

    Options +FollowSymLinks
    RewriteEngine on
    HostnameLookups Off
    UseCanonicalName Off
    ServerSignature Off

    <Directory "/app/web">
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    RewriteEngine on

    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-f
    RewriteCond %{REQUEST_URI} !^/php7-fcgi/
    RewriteRule ^/(.+) /app_dev.php [L]

    SSLEngine on
    SSLCertificateFile    /etc/ssl/certs/ssl-cert-snakeoil.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
</VirtualHost>
